<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../css/bootstrap.min.css" />
    <script type="text/javascript" src="../js/jquery-3.6.0.min.js"></script>
    <script type="text/javascript" src="../js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.0/css/all.css" />
    <link rel="stylesheet" href="../css/all.css" />
    <script src="../js/dangky.js"></script>
    <link rel="stylesheet" href="../css/thongtin.css" />
    <title>Máy Kĩ Thuật Số </title>
    <style>
    .img1{
        width: 50px;
        height: 50px;
        float: left;
        margin-left:0%;
    }
      #head h1 p{
        float: right;
        margin-left: 100px; 
      }
    .menuphai{
      float: right ;
    }
    </style>
</head>
<body class="tong" >
  <div class="header" style="background-color: #cfcbcb;">
    <div class="container-fluid">
        <div class="row" style="background-color: #414545;">
            <div id="nav" class="col-sm-6">
                <ul>
                  <li><img src="../img/Black White Illustrative Modern Camera Studio Icon Logo.png" alt="" height="40px" width="40px"></li>
                    <li>
                        <a href="../html/index.html" style="margin-left: 150px">TRANG CHỦ</a
              >
            </li>
            <li>
              <a href="../html/gioithieu.html">GIỚI THIỆU</a>
                    </li>
                    <li class="dropdown">
                        <a class="dropdown-toggle" data-toggle="dropdown" href="#">SẢN PHẨM<span class="caret"></span
              ></a>
                        <ul class="dropdown-menu">
                            <li><a href="../html/maykithuatso.html">Máy Kĩ Thuật Số</a></li>
                            <li><a href="../html/mayfim.html">Máy fim</a></li>
                            <li><a href="../html/mayanhchuplayngay.html">Máy Ảnh Chụp Lấy Ngay</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="../html/contact.html">LIÊN HỆ</a>
                    </li>
                </ul>
            </div>
            <div id="nav1" class="col-sm-3">
                <input type="text" class="form-control" placeholder="Search........................." />
                <a href="#"><i class="fas fa-search"></i></a>
            </div>
            <div id="nav3" class="col-sm-2">
                <a href="#"><i class="fas fa-shopping-cart" style="color: #c4b22a" onclick="Giohang()" data-toggle="modal" data-target="#cartModal">Giỏ hàng</i
                    ></a>
                    <a data-toggle="modal" data-target="#registerModal">Register</a
                      >
                      <div
                        class="modal fade"
                        id="registerModal"
                        tabindex="-1"
                        role="dialog"
                        aria-labelledby="registerModalLabel"
                        aria-hidden="true"
                      >
                        <div class="modal-dialog" role="document">
                          <div class="modal-content">
                            <!-- Nội dung modal ở đây -->
                            <div class="modal-header">
                              <button
                                type="button"
                                class="close"
                                data-dismiss="modal"
                                aria-label="Close"
                              >
                                <span aria-hidden="true">&times;</span>
                              </button>
                              <h5
                                class="modal-title"
                                id="registerModalLabel"
                                style="font-size: 25px; padding-top: 5px; color: #c4b22a"
                              >
                                <b>Đăng Ký Tài Khoản</b>
                              </h5>
                            </div>
                            <div class="modal-body">
                              <form>
                                <div class="form-group">
                                  <label for="username">Tên người dùng:</label>
                                  <span id="erruser" style="color: red;font-style: italic;"></span>
                                  <input
                                    type="text"
                                    class="form-control"
                                    id="username"
                                    placeholder="Nhập tên người dùng (gồm chữ và số)"
                                  />
                                </div>
                                <div class="form-group">
                                  <label for="sdt">Số điện thoại:</label>
                                  <span id="errsdt" style="color: red;font-style: italic;"></span>
                                  <input
                                    type="tel"
                                    class="form-control"
                                    id="sdt"
                                    placeholder="Số điện thoại"
                                  />
                                </div>
                                <div class="form-group">
                                  <label for="email">Email:</label>
                                  <span id="erremail" style="color: red;font-style: italic;"></span>
                                  <input
                                    type="email"
                                    class="form-control"
                                    id="email"
                                    placeholder="Email"
                                  />
                                </div>
                                <div class="form-group">
                                  <label for="password">Mật khẩu:</label>
                                  <span id="errpassword" style="color: red;font-style: italic;"></span>
                                  <input
                                    type="password"
                                    class="form-control"
                                    id="password"
                                    placeholder="Nhập mật khẩu (6-15 kí tự ) chữ và số"
                                  />
                                </div>
                                <div class="form-group">
                                  <label for="againpassword">Nhập lại mật khẩu:</label>
                                  <span id="erremailagain" style="color: red;font-style: italic;"></span>
                                  <input
                                    type="password"
                                    class="form-control"
                                    id="againpassword"
                                    placeholder="Nhập lại mật khẩu"
                                  />
                                </div>
                              </form>
                            </div>
                            <div class="modal-footer">
                              <!-- Các nút hoặc thông báo khác nếu cần -->
                              <button type="submit" class="btn btn-primary" onclick="dangky()"  >Đăng Ký</button>
                              <button
                                type="button"
                                class="btn btn-secondary"
                                data-dismiss="modal"
                              >
                                Đóng
                              </button>
                            </div>
                          </div>
                        </div>
                      </div>
                      <a data-toggle="modal" data-target="#loginModal">Login</a>
                            <div class="modal fade" id="loginModal" tabindex="-1" role="dialog" aria-labelledby="loginModalLabel" aria-hidden="true">
                                <div class="modal-dialog" role="document">
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <h5 class="modal-title" id="loginModalLabel" style="font-size: 25px; padding-top: 5px; color: #c4b22a">Đăng Nhập</h5>
                                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                              </button>
                                        </div>
                                        <div class="modal-body">
                                            <form>
                                                <div class="form-group">
                                                    <label for="login-username">Tên đăng nhập:</label>
                                                    <span id="errtenDN" style="color: red;font-style: italic;"></span>
                                                    <input type="text" class="form-control" id="login-username" placeholder="Nhập tên người dùng" />
                                                </div>
                                                <div class="form-group">
                                                    <label for="login-password">Mật khẩu:</label>
                                                    <span id="errpass" style="color: red;font-style: italic;"></span>
                                                    <input type="password" class="form-control" id="login-password" placeholder="Nhập mật khẩu" />
                                                </div>
                                            </form>
                                        </div>
                                        <div class="modal-footer">
                                            <button type="submit" class="btn btn-primary" onclick="dangnhap()">
                                Đăng Nhập
                              </button>
                                            <button type="button" class="btn btn-secondary" data-dismiss="modal">
                                Đóng
                              </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <a href="#"><i class="fas fa-user"></i></a>
                        </div>
                    </div>
                </div>
<!-- JavaScript -->
<script>
// Initialize cart from localStorage or create an empty one
let cart = JSON.parse(localStorage.getItem('cart')) || [];

// Function to update the cart modal with current items
function updateCartModal() {
  const cartItemsList = document.getElementById('cartItems');
  cartItemsList.innerHTML = ''; // Clear previous items

  // Add each item in the cart to the modal list
  cart.forEach((item, index) => {
      const listItem = document.createElement('li');
      listItem.className = 'list-group-item d-flex justify-content-between align-items-center';
      listItem.innerHTML = `
          ${item.name} - ${item.price.toLocaleString()} VND x ${item.quantity}
          <button class="btn btn-danger btn-sm" onclick="removeFromCart(${index})">Xóa</button>
      `;
      cartItemsList.appendChild(listItem);
  });
}

// Function to add an item to the cart
function themVaoGioHang() {
  const productName = "Máy kĩ thuật số X-AS";
  const productPrice = 6000000;
  const quantity = parseInt(document.getElementById('soluong').value);

  // Check if the item already exists in the cart
  const existingItem = cart.find(item => item.name === productName);
  if (existingItem) {
      existingItem.quantity += quantity;
  } else {
      // Add new item to the cart
      cart.push({ name: productName, price: productPrice, quantity: quantity });
  }

  // Save cart to localStorage
  localStorage.setItem('cart', JSON.stringify(cart));

  // Update the cart modal
  updateCartModal();
}

// Function to remove an item from the cart
function removeFromCart(index) {
  cart.splice(index, 1);
  localStorage.setItem('cart', JSON.stringify(cart));
  updateCartModal();
}

// Update the cart modal with current items when the page loads
document.addEventListener('DOMContentLoaded', updateCartModal);
</script>

    <div class="container">
        <div class="row" id="thongtin">
            <h1>THÔNG TIN ĐƠN HÀNG</h1> <br>
            <p>Sản phẩm : <span id="productName"></span></p>
            <p>Số lượng &nbsp&nbsp: <span id="quantity"></span></p>
            <p>Đơn giá &nbsp&nbsp&nbsp&nbsp: <span id="unitPrice"></span></p>
            <p>Tổng tiền &nbsp: <span id="totalPrice"></span></p>
            <div class="col-sm-3" style="margin-left: -14px;">
                <label for="thanhtoan" style="font-size: 17px;">Hình thức thanh toán: </label> <br>
                <button onclick="kiemtradangnhap()" class="tt">Đặt hàng</button>
            </div>
            <div class="col-sm-5">
                <select name="" id="thanhtoan" class="form-control">
          <option value="Thanh toán khi nhận hàng">Thanh toán khi nhận hàng</option>
          <option value="Thanh toán qua VNP">Thanh toán qua VNP</option>
          </select>
            </div>
        </div>
    </div>
    <!-- Modal đặt hàng -->
    <div class="modal fade" id="orderButton">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <p id="orderSuccessModalLabel" style="font-size: 25px;font-weight: bold;color: #c4b22a;text-align: center;">Đặt Hàng Thành Công</p>
                    <button type="button" class="close" data-dismiss="modal" style="position: relative;top: -40px;">&times;</button>
                </div>
                <div class="modal-body" style="font-size: 16px;">
                    <p>Cảm ơn bạn đã đặt hàng! <br> Sản phẩm <b> <span id="modalProductName"></span> </b> đã được đặt thành công. <br> Chúng tôi sẽ liên hệ với bạn sớm nhất có thể.</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" style="background-color:#c4b22a;color: white;" data-dismiss="modal">Thoát</button>
                </div>
            </div>
        </div>
    </div>
    <!-- sub -->
    <div class="container-fluid">
      <div class="row" style="height: 234px; background-color: #444">
          <div id="sub1" class="col-sm-5">
              <h1>ĐĂNG KÝ VỚI CHÚNG TÔI!</h1>
              <p>
                  Nhập địa chỉ email của bạn vào danh sách gửi thư để chúng tôi để nhận tin tức mới nhất.
              </p>
          </div>
          <div id="sub2" class="col-sm-4">
              <input class="form-control" type="email" id="sub" placeholder="Nhập thông tin đăng kí" />
          </div>
          <div id="sub3" class="col-sm-3">
              <button class="form-control" onclick="subcrise()">Đăng Ký Ngay </button>
          </div>
      </div>
      <div class="row" style="padding-top: 30px; background-color: #333; color: #cfcbcb">
          <div id="lastF1" class="col-sm-4">
              <h4>Đăng Kí</h4>
              <p>

                  Cửa hàng chuyên cung cấp những sản phẩm máy ảnh xịn sò, xinh xắn và đa dạng.Với nhiwwuf phân khúc giá cả vừa  đảm bảo chất lượng và hài lòng nhất cho khách hàng.
              </p>
          </div>
          <div id="lastF2" class="col-sm-3">
              <h4>Liên Hệ </h4>
              <i class="fas fa-map-marker-alt"></i>
              <p style="position: relative; left: 25px; top: -24px">
                  Quang Trung, Gò Vấp, Tp.Hồ Chí Minh
              </p>
              <i class="fas fa-phone" style="position: relative; top: -25px"></i>
              <p style="position: relative; left: 25px; top: -44px">
                  (03) 58713373
              </p>
              <i class="fas fa-envelope" style="position: relative; top: -45px"></i>
              <p style="position: relative; left: 25px; top: -66px">
                  web.Mayanhxin@gmail.com
              </p>
          </div>
          <div id="lastF3" class="col-sm-2">
              <h4>Sản Phẩm</h4>
              <ul>
                  <li><a href="../../index.html">Trang chủ</a></li>
                  <li><a href="../html/gioithieu.html">Giới thệu</a></li>
                  <li><a href="../html/Cacloainoi.html">Sản phẩm</a></li>
                  <li><a href="../html/contact.html">Liên hệ</a></li>
              </ul>
          </div>
          <div id="lastF4" class="col-sm-3">
              <h4> Thời Gian </h4>
              <p>THứ 2 đến Thứ 6:</p>
              <p>08:00am - 20:00pm</p>
              <p>THứ 7 và Chủ nhật:</p>
              <p>10:00am - 16:00pm</p>
          </div>
      </div>
      <div class="row">
          <div id="foot" class="col-sm-12">
              <p>&copy; 2024 Web Máy Ảnh Xịn Store</p>
          </div>
      </div>
  </div>
      
   
    <!-- Modal -->
    <div class="modal fade" id="buyModal" tabindex="-1" role="dialog" aria-labelledby="buyModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="buyModalLabel">Xác nhận đặt hàng</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
                </div>
                <div class="modal-body">

                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Hủy</button>
                    <button type="button" class="btn btn-primary">Xác nhận mua hàng</button>
                </div>
            </div>
        </div>
    </div>
    <script>
        var params = new URLSearchParams(window.location.search);
        var productName = params.get("product");
        var quantity = params.get("quantity");
        var unitPrice = params.get("unitPrice");

        if (unitPrice === null || isNaN(parseFloat(unitPrice))) {
            unitPrice = 0;
        }

        document.getElementById("productName").innerText = productName;
        document.getElementById("quantity").innerText = quantity;
        document.getElementById("unitPrice").innerText =
            parseFloat(unitPrice) + " VNĐ";

        var totalPrice = parseInt(quantity) * parseFloat(unitPrice);
        document.getElementById("totalPrice").innerText = totalPrice + " VNĐ";
    </script>
    <script>
        // Đặt tên sản phẩm vào modal 
        document.getElementById("modalProductName").innerText = productName;
    </script>
</body>

</html>